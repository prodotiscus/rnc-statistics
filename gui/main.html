<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="static/app.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://unpkg.com/vue"></script>
  </head>
  <body>
    <div id="app">

      <div id="tabs">
        <a href="#" :class="{active: mode == 'mainPage'}" @click="mode='mainPage'">Main page</a>
        <a href="#" :class="{active: mode == 'downloader'}" @click="mode='downloader'">Download</a>
        <a href="#" :class="{active: mode == 'randomizer'}" @click="mode='randomizer'">Randomizer</a>
        <a href="#" :class="{active: mode == 'query-stats'}" @click="mode='query-stats'">Query stats</a>
      </div>

      <div class="main-page" v-show="mode == 'mainPage'">
          <h2>Queries for Russian National Corpus (ruscorpora.ru)</h2>
          <div>
            <div v-for="qo in query_objects">
              {{ qo.query_common_name }}
              <a href="#" @click="downloadQuery(qo,qo.query_file_name)">(download)</a>
              <a href="#" @click="randomizeQuery(qo,qo.query_file_name)">(see random)</a>
            </div>
          </div>
        </div>


      <div class="downloader" v-show="mode == 'downloader'">
        <h2>{{ query_meta.query_common_name }}</h2>
        <div class="downloading-progress">
          Downloaded {{ downloader.downloaded }} of {{ downloader.all_matches }}
          <a v-show="!downloader.finished">({{ downloader.percentage }}%)</a>
          <a v-show="downloader.finished">(finished!)</a>
          <div class="stop-button" v-show="!downloader.finished">
            <p>Downloading...</p>
            <button @click="toggleDownload()">Stop downloading</button>
          </div>
        </div>
      </div>

      <div class="randomizer" v-show="mode == 'randomizer'">

      </div>

    </div>

    <script src="static/app.js"></script>
  </body>
</html>
